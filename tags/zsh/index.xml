<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>zsh on Ko-Da-Wa-Ri</title><link>https://kodawari.info/tags/zsh/</link><description>Recent content in zsh on Ko-Da-Wa-Ri</description><generator>Hugo -- gohugo.io</generator><language>ja</language><lastBuildDate>Wed, 27 Jul 2022 10:47:45 +0900</lastBuildDate><atom:link href="https://kodawari.info/tags/zsh/index.xml" rel="self" type="application/rss+xml"/><item><title>zshの初期設定</title><link>https://kodawari.info/posts/zsh%E3%81%AE%E5%88%9D%E6%9C%9F%E8%A8%AD%E5%AE%9A/</link><pubDate>Wed, 27 Jul 2022 10:47:45 +0900</pubDate><guid>https://kodawari.info/posts/zsh%E3%81%AE%E5%88%9D%E6%9C%9F%E8%A8%AD%E5%AE%9A/</guid><description>zshの初期設定 ちょっとしたashの設定 Homebrewからインストール brew install zsh シェル一覧リストを追加 sudo sh -c &amp;#34;echo &amp;#39;/usr/local/bin/zsh&amp;#39; &amp;gt;&amp;gt; /etc/shells&amp;#34; インストールしたzshに設</description><content:encoded><![CDATA[
              <h1 id="zshの初期設定">zshの初期設定</h1>
<p>ちょっとしたashの設定</p>
<h2 id="homebrewからインストール">Homebrewからインストール</h2>
<pre tabindex="0"><code>brew install zsh
</code></pre><p>シェル一覧リストを追加</p>
<pre tabindex="0"><code>sudo sh -c &#34;echo &#39;/usr/local/bin/zsh&#39; &gt;&gt; /etc/shells&#34;
</code></pre><p>インストールしたzshに設定</p>
<pre tabindex="0"><code>chsh -s /usr/local/bin/zsh
Changing shell for ruedap.
Password for ruedap: パスワードを入力する
</code></pre><h2 id="zsh-completionsのインストール">zsh-completionsのインストール</h2>
<p>補完機能の強化</p>
<pre tabindex="0"><code>brew install zsh-completions
</code></pre><p>~./zshrc</p>
<pre tabindex="0"><code># zsh-completions(補完機能)の設定
if type brew &amp;&gt;/dev/null; then
 FPATH=$(brew --prefix)/share/zsh-completions:$FPATH

 autoload -Uz compinit
 compinit
fi
</code></pre><h2 id="zsh-syntax-highlighting-のインストール">zsh-syntax-highlighting のインストール</h2>
<p>コマンドにシンタックスハイライトをつける</p>
<pre tabindex="0"><code>brew install zsh-syntax-highlighting
</code></pre><p>~./zshrc</p>
<pre tabindex="0"><code>source /usr/local/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
</code></pre><h2 id="zsh-autosuggestions-のインストール">zsh-autosuggestions のインストール</h2>
<p>ターミナルのコマンド履歴に基づいてコマンド候補を表示、入力補完もしてくれる。</p>
<pre tabindex="0"><code>brew install zsh-autosuggestions
</code></pre><p>~./zshrc</p>
<pre tabindex="0"><code> source /usr/local/share/zsh-autosuggestions/zsh-autosuggestions.zsh
</code></pre><h2 id="色を使用出来るようにする">色を使用出来るようにする</h2>
<p>~./zshrc</p>
<pre tabindex="0"><code>autoload -Uz colors &amp;&amp; colors
</code></pre><h2 id="日本語ファイル名を表示可能にする">日本語ファイル名を表示可能にする</h2>
<p>~./zshrc</p>
<pre tabindex="0"><code>setopt print_eight_bit
</code></pre><h2 id="cd-なしでもディレクトリ移動">cd なしでもディレクトリ移動</h2>
<p>~./zshrc</p>
<pre tabindex="0"><code>setopt auto_cd
</code></pre><h2 id="ビープ音の停止">ビープ音の停止</h2>
<p>~./zshrc</p>
<pre tabindex="0"><code>setopt no_beep
</code></pre><h2 id="ビープ音の停止補完時">ビープ音の停止(補完時)</h2>
<p>~./zshrc</p>
<pre tabindex="0"><code>setopt nolistbeep
</code></pre><h2 id="cd-tab-で以前移動したディレクトリを表示">cd [TAB] で以前移動したディレクトリを表示</h2>
<p>~./zshrc</p>
<pre tabindex="0"><code>setopt auto_pushd
</code></pre><h2 id="ヒストリ-履歴-を保存数を増やす">ヒストリ (履歴) を保存、数を増やす</h2>
<p>~./zshrc</p>
<pre tabindex="0"><code>HISTFILE=~/.zsh_history
HISTSIZE=100000
SAVEHIST=100000
</code></pre><h2 id="同時に起動した-zsh-の間でヒストリを共有する">同時に起動した zsh の間でヒストリを共有する</h2>
<p>~./zshrc</p>
<pre tabindex="0"><code>setopt share_history
</code></pre><h2 id="直前と同じコマンドの場合はヒストリに追加しない">直前と同じコマンドの場合はヒストリに追加しない</h2>
<p>~./zshrc</p>
<pre tabindex="0"><code>setopt hist_ignore_dups
</code></pre><h2 id="同じコマンドをヒストリに残さない">同じコマンドをヒストリに残さない</h2>
<p>~./zshrc</p>
<pre tabindex="0"><code>setopt hist_ignore_all_dups
</code></pre><h2 id="スペースから始まるコマンド行はヒストリに残さない">スペースから始まるコマンド行はヒストリに残さない</h2>
<p>~./zshrc</p>
<pre tabindex="0"><code>setopt hist_ignore_space
</code></pre><h2 id="ヒストリに保存するときに余分なスペースを削除する">ヒストリに保存するときに余分なスペースを削除する</h2>
<p>~./zshrc</p>
<pre tabindex="0"><code>setopt hist_reduce_blanks
</code></pre><h2 id="補完で小文字でも大文字にマッチさせる">補完で小文字でも大文字にマッチさせる</h2>
<p>~./zshrc</p>
<pre tabindex="0"><code>zstyle &#39;:completion:*&#39; matcher-list &#39;m:{a-z}={A-Z}&#39;
</code></pre><h2 id="パス名の補完候補時パス名を選択">パス名の補完候補時パス名を選択</h2>
<p>[TAB] でパス名の補完候補を表示したあと、
続けて [TAB] を押すと候補からパス名を選択できるようになる
候補を選ぶには [TAB] か Ctrl-N,B,F,P</p>
<p>~./zshrc</p>
<pre tabindex="0"><code>zstyle &#39;:completion:*:default&#39; menu select=1
</code></pre><h2 id="コマンドのスペルを訂正する">コマンドのスペルを訂正する</h2>
<p>~./zshrc</p>
<pre tabindex="0"><code>setopt correct
</code></pre><h2 id="cd-した先のディレクトリをディレクトリスタックに追加する">cd した先のディレクトリをディレクトリスタックに追加する</h2>
<p>cd [TAB] でディレクトリのヒストリが表示されるので、選択して移動できる
※ ディレクトリスタック: 今までに行ったディレクトリのヒストリのこと</p>
<p>~./zshrc</p>
<pre tabindex="0"><code>setopt auto_pushd
</code></pre><h1 id="pushd-したときディレクトリがすでにスタックに含まれていればスタックに追加しない">pushd したとき、ディレクトリがすでにスタックに含まれていればスタックに追加しない</h1>
<p>~./zshrc</p>
<pre tabindex="0"><code>setopt pushd_ignore_dups
</code></pre><h2 id="拡張-glob-を有効にする">拡張 glob を有効にする</h2>
<p>拡張globを有効にする
拡張globを有効にすると # ~ ^ もパターンとして扱われる
glob: パス名にマッチするワイルドカードパターンのこと
※ たとえば mv hoge.* ~/dir というコマンドにおける * のこと
~./zshrc</p>
<pre tabindex="0"><code>setopt extended_glob
</code></pre><h2 id="単語の一部として扱われる文字のセットを指定する">単語の一部として扱われる文字のセットを指定する</h2>
<p>単語の一部として扱われる文字のセットを指定する
ここではデフォルトのセットから / を抜いたものにしている
※ たとえば Ctrl-W でカーソル前の1単語を削除したとき / までで削除が止まる
~./zshrc</p>
<pre tabindex="0"><code>WORDCHARS=&#39;*?_-.[]~=&amp;;!#$%^(){}&lt;&gt;&#39;
</code></pre><h2 id="コマンド実行結果のあとに空行を挿入する">コマンド実行結果のあとに空行を挿入する</h2>
<p>~/.zshrc</p>
<pre tabindex="0"><code>add_newline() {
  if [[ -z $PS1_NEWLINE_LOGIN ]]; then
    PS1_NEWLINE_LOGIN=true
  else
    printf &#39;\n&#39;
  fi
}
precmd() { add_newline }
</code></pre>
              ]]></content:encoded></item></channel></rss>