"use strict";const copyIcon=(window.FluencyCopyIcon||"").trim();function flashCopyMessage(e,t){const n=e.innerHTML;e.textContent=t,setTimeout(()=>{e.innerHTML=n},1e3)}function addCopyButton(e){const s=e.querySelector("code[data-lang]");if(!s)return;const n=document.createElement("div");n.className="code-helper";const o=document.createElement("span");o.className="lang",o.textContent=s.dataset.lang;const t=document.createElement("button");t.className="action",t.setAttribute("aria-label","copy"),t.innerHTML=copyIcon,n.appendChild(o),n.appendChild(t),t.addEventListener("click",()=>{navigator.clipboard.writeText(s.textContent).then(()=>{flashCopyMessage(t,"Copied!")}).catch(e=>{console.error("Failed to copy: ",e),flashCopyMessage(t,"Failed :'(")})}),e.insertBefore(n,e.firstElementChild)}function toggleTheme(e){const n=document.body,s=window.matchMedia("(prefers-color-scheme: dark)").matches;let t="light";e?e.type==="change"?t=s?"dark":"light":t=localStorage.getItem("theme")==="dark"?"light":"dark":t=localStorage.getItem("theme")||(s?"dark":"light"),n.classList.remove("theme-dark","theme-light"),n.classList.add(`theme-${t}`),localStorage.setItem("theme",t)}document.getElementById("theme-selector-button").addEventListener("click",toggleTheme),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",toggleTheme);const menuToggler=document.getElementById("navbar-toggler"),navbar=document.querySelector("nav.navbar");menuToggler.addEventListener("click",()=>{navbar.classList.toggle("active")}),document.addEventListener("DOMContentLoaded",()=>{if(toggleTheme(),navigator.clipboard){const e=document.querySelectorAll(".post.single div.highlight");e.forEach(addCopyButton)}})